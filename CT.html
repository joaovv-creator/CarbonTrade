<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="CTStyle.css">
  
  <title>Compra e Venda de CO₂ — Protótipo</title>

</head>
<body>
  <header>
    <div class="wrap">
      <div class="brand">
        <!-- Ícone CO2 -->
        <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 3C7 3 3 7 3 12s4 9 9 9 9-4 9-9-4-9-9-9Z" stroke="#26c281" stroke-width="2"/><path d="M9.2 14.8c-1.55 0-2.8-1.25-2.8-2.8s1.25-2.8 2.8-2.8c.8 0 1.52.34 2.04.88" stroke="#26c281" stroke-width="2" stroke-linecap="round"/><path d="M12 9.2h2.2c1.55 0 2.8 1.25 2.8 2.8s-1.25 2.8-2.8 2.8H12" stroke="#26c281" stroke-width="2" stroke-linecap="round"/></svg>
        <div>
          <div style="font-size:14px;color:var(--muted)">Plataforma</div>
          <div style="font-size:18px">Compra e Venda de Carbono</div>
        </div>
      </div>
      <nav>
        <a href="#relatorio">Relatório</a>
        <a href="#metricas">Métricas</a>
        <a href="#catalogo">Catálogo</a>
        <a href="#historico">Histórico</a>
        <a href="#veiculos">Por Veículo</a>
        <a href="#pagamento">Pagamento</a>
      </nav>
    </div>
  </header>

  <main>
    <!-- COMO FUNCIONA -->
    <section id="como-funciona" style="grid-column:1/-1">
      <h2>Como funciona a captura de CO₂ nos veículos</h2>
      <div class="subtitle">Entenda o processo de captura diretamente no escapamento</div>
      <img src="co2-captura.jpeg.jpeg" 
           alt="Fluxo de captura de CO₂ no escapamento" 
           style="width:100%;max-width:800px;display:block;margin:16px auto;border-radius:12px;border:1px solid #182128;box-shadow:0 6px 18px rgba(0,0,0,.35)">
    </section>

    <!-- RELATÓRIO EM TEMPO REAL -->
    <section id="relatorio" style="grid-column:1/-1">
      <h2>Relatório em tempo real do CO₂ capturado pelos caminhões</h2>
      <div class="subtitle">Taxa de captura por minuto (kg) — dados simulados para protótipo</div>
      <div class="legend"><span><span class="dot green"></span> Frota Total</span><span><span class="dot blue"></span> Média móvel</span></div>
      <canvas id="realtime"></canvas>
      <div class="kpis" style="margin-top:12px">
        <div class="kpi">
          <div class="subtitle">Capturado hoje</div>
          <div class="value" id="kpiHoje">— kg</div>
        </div>
        <div class="kpi">
          <div class="subtitle">Capturado (30 dias)</div>
          <div class="value" id="kpi30">— t</div>
        </div>
        <div class="kpi">
          <div class="subtitle">Caminhões ativos</div>
          <div class="value" id="kpiTrucks">—</div>
        </div>
      </div>
    </section>

    <!-- MÉTRICAS DE DESCARBONIZAÇÃO -->
    <section id="metricas">
      <h2>Visualização de métricas de descarbonização cumpridas</h2>
      <div class="grid-2">
        <div class="card">
          <div style="display:flex;gap:16px;align-items:center;justify-content:center;position:relative">
            <svg class="ring" viewBox="0 0 120 120">
              <circle cx="60" cy="60" r="52" stroke="#1b2630" stroke-width="12" fill="none"/>
              <circle id="ringProgress" cx="60" cy="60" r="52" stroke="#26c281" stroke-width="12" fill="none" stroke-linecap="round" stroke-dasharray="326" stroke-dashoffset="326" transform="rotate(-90 60 60)"/>
            </svg>
            <div class="label" id="labelProgress" style="position:absolute;font-weight:800;font-size:22px">0%</div>
          </div>
          <div class="row"><span class="subtitle">Meta anual atingida</span><span class="badge">Atualiza em tempo real</span></div>
        </div>
        <div class="card">
          <div class="row"><span>Emissões evitadas</span><strong id="emissoesEvitadas">— t CO₂e</strong></div>
          <div class="row"><span>Projetos certificados</span><strong id="projetos">—</strong></div>
          <div class="row"><span>Clientes com selo verde</span><strong id="clientesVerdes">—</strong></div>
        </div>
      </div>
    </section>

    <!-- CATÁLOGO -->
    <section id="catalogo">
      <h2>Catálogo de carbono disponível para compra</h2>
      <div class="filters">
        <button class="chip active" data-filter="todos">Todos</button>
        <button class="chip" data-filter="floresta">Floresta</button>
        <button class="chip" data-filter="biometano">Biometano</button>
        <button class="chip" data-filter="industrial">Industrial</button>
        <button class="chip" data-filter="ccs">CCS</button>
      </div>
      <div class="catalogo" id="cardsCatalogo"></div>
    </section>

    <!-- OPÇÕES DE COMPRA -->
    <section style="grid-column:1/-1">
      <h2>Opção de compra em diversos formatos</h2>
      <div class="catalogo">
        <div class="card"><div class="row"><strong>Por tonelada</strong><span class="badge">Certificado</span></div><div class="subtitle">Créditos em lotes fechados</div><button onclick="alert('Adicionado: Tonelada')">Selecionar</button></div>
        <div class="card"><div class="row"><strong>Por quilograma</strong><span class="badge">Micro-compra</span></div><div class="subtitle">Ideal para testes e doações</div><button onclick="alert('Adicionado: Quilograma')">Selecionar</button></div>
        <div class="card"><div class="row"><strong>Por assinatura</strong><span class="badge">Mensal</span></div><div class="subtitle">Compra recorrente automática</div><button onclick="alert('Adicionado: Assinatura')">Selecionar</button></div>
      </div>
    </section>

    <!-- HISTÓRICO DE COMPRAS -->
    <section id="historico" style="grid-column:1/-1">
      <h2>Histórico de compras</h2>
      <table id="tabelaHistorico">
        <thead><tr><th>Data</th><th>Cliente</th><th>Tipo</th><th>Quantidade</th><th>Preço</th><th>Status</th></tr></thead>
        <tbody></tbody>
      </table>
    </section>

    <!-- POR VEÍCULO -->
    <section id="veiculos">
      <h2>Captura de CO₂ por veículo</h2>
      <table id="tabelaVeiculos">
        <thead><tr><th>Placa</th><th>Modelo</th><th>Última leitura</th><th>Captura (kg/dia)</th><th>Status</th></tr></thead>
        <tbody></tbody>
      </table>
    </section>

    <!-- ÁREA DE PAGAMENTO -->
    <section id="pagamento">
      <h2>Área de pagamento</h2>
      <div class="paygrid">
        <div class="pay"><svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="3" y="4" width="18" height="16" rx="2" stroke="#26c281" stroke-width="2"/><path d="M7 10h10M7 14h6" stroke="#26c281" stroke-width="2" stroke-linecap="round"/></svg><div>Pix</div><button class="chip active" onclick="pagar('Pix')">Pagar</button></div>
        <div class="pay"><svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="3" y="5" width="18" height="14" rx="2" stroke="#26c281" stroke-width="2"/><path d="M3 10h18" stroke="#26c281" stroke-width="2"/></svg><div>Boleto</div><button class="chip active" onclick="pagar('Boleto')">Gerar</button></div>
        <div class="pay"><svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="2" y="6" width="20" height="12" rx="2" stroke="#26c281" stroke-width="2"/><path d="M6 10h6M6 14h3" stroke="#26c281" stroke-width="2"/></svg><div>Cartão</div><button class="chip active" onclick="pagar('Cartão')">Continuar</button></div>
        <div class="pay"><svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M7 3h10l4 6v10a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V9l4-6Z" stroke="#26c281" stroke-width="2"/><path d="M9 13h6M9 17h6M9 9h6" stroke="#26c281" stroke-width="2"/></svg><div>Outros</div><button class="chip active" onclick="pagar('Outro')">Opções</button></div>
      </div>
    </section>
  </main>

  <div class="foot">Protótipo estático em HTML/CSS/JS — use como base para implementação real (APIs, banco, gateways).</div>

<script>
// ===== Dados simulados =====
const state = {
  series: Array.from({length:120}, (_,i)=> ({
    t: i,
    v: 40 + Math.sin(i/5)*8 + Math.random()*6 + i*0.1
  })),
  hoje: 0,
};

function desenharGrafico(){
  const c = document.getElementById('realtime');
  const ctx = c.getContext('2d');
  const w = c.clientWidth, h = c.clientHeight;
  const dpr = window.devicePixelRatio || 1; c.width=w*dpr; c.height=h*dpr; ctx.scale(dpr,dpr);
  ctx.clearRect(0,0,w,h);
  ctx.strokeStyle = '#15202a'; ctx.lineWidth = 1;
  for(let y=0;y<h;y+=40){ctx.beginPath();ctx.moveTo(0,y+.5);ctx.lineTo(w,y+.5);ctx.stroke();}
  const
